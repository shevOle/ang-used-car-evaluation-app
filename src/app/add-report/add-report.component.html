<ucea-form-card class="add-report-card">
  <form
    class="estimate-page-form"
    [formGroup]="addReportForm"
    id="estimate-page-form"
  >
    <ucea-form-field-with-error
      class="estimate-page-form-input"
      [field]="addReportForm.controls.make"
      label="Manufacturer"
      [errorsList]="errors['make']"
      type="text"
    ></ucea-form-field-with-error>

    <ucea-form-field-with-error
      class="estimate-page-form-input"
      [field]="addReportForm.controls.model"
      label="Model"
      [errorsList]="errors['model']"
      type="text"
    ></ucea-form-field-with-error>

    <ucea-form-field-with-error
      class="estimate-page-form-input"
      [field]="addReportForm.controls.year"
      label="Year"
      [errorsList]="errors['year']"
      type="number"
    ></ucea-form-field-with-error>

    <ucea-form-field-with-error
      class="estimate-page-form-input"
      [field]="addReportForm.controls.mileage"
      label="Mileage"
      [errorsList]="errors['mileage']"
      type="number"
    ></ucea-form-field-with-error>

    <ucea-form-field-with-error
      class="estimate-page-form-input"
      [field]="addReportForm.controls.price"
      label="Price"
      [errorsList]="errors['price']"
      type="number"
    ></ucea-form-field-with-error>

    <div class="estimate-page-form-input">
      <mat-form-field>
        <mat-label for="estimate-page-input-description"
          >Description:</mat-label
        >
        <textarea
          matInput
          type="text"
          maxlength="150"
          rows="10"
          formControlName="description"
        ></textarea>
      </mat-form-field>
    </div>

    <div class="add-report-map">
      <h3>Mark the area where the car was sold:</h3>
      <google-map
        height="90%"
        width="100%"
        [zoom]="10"
        (mapClick)="handleMarkerEvent($event)"
      >
        <map-marker
          *ngIf="markerPosition"
          [position]="markerPosition"
          (mapClick)="removeMarker()"
        />
      </google-map>
      @if (coordinatesError) {
      <mat-error>{{ coordinatesError }}</mat-error>
      }
    </div>

    <ucea-button
      label="Add report"
      [onClick]="submitForm.bind(this)"
      visual="main"
      class="submit-button"
      [disabled]="!addReportForm.valid"
    ></ucea-button>
  </form>
</ucea-form-card>
